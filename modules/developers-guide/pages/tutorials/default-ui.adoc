= Testing function calls using a generated web interface
March 2020 (Alpha)
ifdef::env-github,env-browser[:outfilesuffix:.adoc]
:toc:
:toc: right
:toc-title: TUTORIAL - TESTING METHODS
:toclevels: 3
:proglang: Motoko
:platform: Internet Computer platform
:IC: Internet Computer
:company-id: DFINITY
:sdk-short-name: DFINITY Canister SDK
:sdk-long-name: DFINITY Canister Software Development Kit (SDK)

The canister interface description language—often referred to as Candid or more generally as the IDL—provides a common language for specifying the signature of a canister service.
The language provides a unified way of interacting with canisters in various languages and tools, such as the `+dfx+` command-line interface, JavaScript, and {proglang}.

Based on the type signature of the actor, Candid provides a web interface that allows you to call canister functions for testing and debugging.

This tutorial illustrates how to view and use the Candid web interface.

NOTE: This tutorial provides step-by-step instructions independent of any other tutorials. 
If you have already built and deployed a canister and know the current canister identifier, you can skip directly to <<Viewing functions in a browser>>.

== Before you begin

* You have downloaded and installed the SDK as described in link:../getting-started{outfilesuffix}[Getting started].
* You have stopped any network client processes running on the local computer.

This tutorial takes approximately 10 minutes to complete.

== Create a new project

To create a new project for this tutorial:

. Open a terminal shell on your local computer, if you don’t already have one open.
. Change to the folder you are using for your {IC} sample projects.
. Create a new project by running the following command:
+
[source,bash]
----
dfx new default_web_ui
----
. Change to your new `+default_web_ui+` project directory.
+
For this tutorial, you can leave the default `dfx.json` configuration file and `+main.mo+` program files unchanged.

== Build and deploy the program

To build the program executable:

. Build the WebAssembly executable by running the following command:
+
[source,bash]
----
dfx build
----
. Start the {IC} network on your local computer by running the following command:
+
[source,bash]
----
dfx start
----
. Deploy your `+default_web_ui+` project on the local network by running the following command:
+
[source,bash]
----
dfx canister install default_web_ui
----
. Copy the canister identifier that begins with the `+ic:+` prefix displayed.

== Viewing functions in a browser

To view functions using the Candid web interface:

. Open a browser and navigate to the address and port number specified in the `+dfx.json+` configuration file.
+
By default, the URL uses the localhost address (`+127.0.0.1+`) and port number `+8000+`.
. Add the `+candid+` endpoint to access the Candid web interface followed by the required `canisterId` parameter and canister identifier.
+
For example, the full URL should look similar to the following but with the `+ic:_canister_identifier_+` that was returned by the `+dfx canister install+` command:
+
[source,bash]
----
http://localhost:8000/candid?canisterId=ic:81DDA04F69F40FEEAC
----
. Review the list of function calls and types defined in the program.
+
For example, the default program includes one `+greet+` function that takes a text argument:
+
image:candid-ui.png[Viewing functions calls]

== Testing function calls

To test the functions defined in your program:

. Type a value of the appropriate type for a function, then click *Call* or *Query* to see the result.
+
For example:
+
image:candid-ui-return.png[Function call result]

== Stop the local network

. Stop the {IC} processes running on your local computer by running the following command:
+
[source,bash]
----
dfx stop
----
